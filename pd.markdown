当然可以。以下是一份**完整、可直接交付开发团队或用于项目立项的正式产品文档**，包含详细需求、交互逻辑、UI规范、技术约束与验收标准。

---

# 📄 **《FireGuard 消防员出警安全计时系统》产品需求文档（PRD）**  
**版本号**：1.0  
**撰写日期**：2025年12月22日  
**撰写人**：资深产品经理（30年B端安全系统经验）  
**适用对象**：开发团队、测试工程师、UI/UX设计师、消防站管理人员  

---

## 一、文档修订记录

| 版本 | 日期 | 修改内容 | 修改人 |
|------|------|--------|--------|
| 1.0 | 2025-12-22 | 初稿 | 产品经理 |

---

## 二、产品概述

### 2.1 产品名称  
**FireGuard 消防员出警安全计时系统**

### 2.2 产品定位  
一款部署于**单台 Android 设备**上的本地化安全监控工具，通过 **NFC 刷卡触发倒计时机制**，实现对出警消防员的**实时安全监护**，超时未归自动报警，保障一线人员生命安全。

### 2.3 核心价值
- **零网络依赖**：断网、无信号环境下仍可运行  
- **秒级响应**：刷卡即启动，超时即报警  
- **极简操作**：无需培训，值班员“贴卡即用”  
- **高可靠性**：7×24 小时前台服务保活，不漏报  

### 2.4 部署场景
- 固定安装于消防站**出警通道旁**的 Android 平板（建议 7~10 英寸）
- 设备常亮、插电运行，永不关机

---

## 三、目标用户

| 角色 | 需求 | 使用频率 |
|------|------|--------|
| **值班员** | 监控出警人员状态，处理超时报警 | 每日多次 |
| **管理员** | 注册新消防员（写卡）、配置报警参数 | 每周1~2次 |
| **指挥员** | 查看出警历史记录（事后复盘） | 每月数次 |

---

## 四、功能需求详述

### 4.1 NFC 读卡（出警触发）

| 功能点 | 说明 | 验收标准 |
|-------|------|---------|
| 自动监听 | App 启动后持续监听 NFC 贴卡 | 无需点击“开始读取” |
| 数据解析 | 读取 NDEF Text Record 中的 JSON 字符串 | 支持格式：`{"uid":"F1001","name":"张三"}` |
| 多人并发 | 同时为最多 20 名消防员独立计时 | 每人计时器互不影响 |
| 时间重置 | 同一 UID 再次刷卡 → 重置倒计时 | 原计时器取消，新计时器启动 |

### 4.2 NFC 写卡（注册新卡）

| 功能点 | 说明 | 验收标准 |
|-------|------|---------|
| 手动注册 | 输入姓名 → 系统生成唯一 UID（如 `F+时间戳`） | UID 全局唯一 |
| 空白检测 | 写卡前先读卡，若已有数据则提示“此卡已注册” | 防止误覆盖 |
| 写入格式 | 写入 NDEF Text Record，内容为 JSON | 可被本系统或其他设备读取 |
| 成功反馈 | 写入成功后弹出绿色提示 | “✅ 张三 卡片注册成功！” |

### 4.3 倒计时监控

| 功能点 | 说明 | 验收标准 |
|-------|------|---------|
| 默认时长 | 20 分钟（可在设置中调整为 10~60 分钟） | 精确到秒 |
| 实时显示 | 主屏列出所有活跃消防员 + 剩余时间 | 动态刷新（每秒） |
| 状态标识 |  
  - 正常：灰色文字  
  - <5分钟：橙色闪烁  
  - 超时：红色全屏弹窗 | 视觉层级清晰 |

### 4.4 超时报警

| 功能点 | 说明 | 验收标准 |
|-------|------|---------|
| 自动拨号 | 超时后自动拨打预设紧急电话（如 119） | 需提前授权电话权限 |
| 多通道通知 | 同时触发：  
  - 全屏红色弹窗  
  - 持续警报音（可关闭）  
  - 设备震动（3秒） | 用户无法忽略 |
| 报警确认 | 必须手动点击“确认已处理”才能关闭警报 | 防止误消 |
| 报警记录 | 本地保存：时间、人员、是否已处理 | 可在“历史记录”中查看 |

### 4.5 系统管理

| 功能点 | 说明 | 验收标准 |
|-------|------|---------|
| 参数配置 |  
  - 倒计时时长（分钟）  
  - 紧急联系电话（支持多个） | 保存后立即生效 |
| 历史记录 | 按日期列出：  
  - 出警事件（刷卡时间、人员）  
  - 报警事件（超时时间、处理状态） | 支持滚动查看最近30天 |
| 日志导出 | 通过“分享”按钮导出为 TXT 文件 | 包含时间戳、UID、操作类型 |
| 系统自检 | 检测：  
  - NFC 是否可用  
  - 电话权限是否授予  
  - 前台服务是否运行 | 显示 ✅/❌ 状态 |

---

## 五、非功能性需求

| 类别 | 要求 |
|------|------|
| **性能** | NFC 识别 ≤ 1 秒；报警触发 ≤ 3 秒 |
| **可靠性** | 支持连续运行 ≥ 30 天；后台不被系统杀死 |
| **兼容性** | Android 8.0+；支持 NTAG213/215/216 等 NDEF 卡 |
| **安全性** | 无网络请求；所有数据仅存本地（SharedPreferences / SQLite） |
| **可用性** |  
  - 字体 ≥ 18sp  
  - 按钮 ≥ 48×48 dp  
  - 高对比度（红/白/黑）  
  - 支持戴厚手套操作 |  
| **可维护性** | 日志可导出；崩溃自动上报（可选） |

---

## 六、UI/UX 设计规范

### 6.1 设计原则
- **一眼可见**：关键信息（剩余时间、报警）必须在主屏突出显示  
- **零学习成本**：图标 + 文字双标识，避免纯图标  
- **防误触**：报警确认按钮需二次确认（如长按）  
- **无障碍**：支持系统字体缩放

### 6.2 配色方案

| 用途 | 色值 | 说明 |
|------|------|------|
| 主色（消防红） | `#C62828` | 按钮、标题、报警 |
| 背景色 | `#FFFFFF` | 页面背景 |
| 文字（主） | `#212121` | 标题、姓名 |
| 文字（副） | `#616161` | 时间、提示语 |
| 警告色 | `#FF6B35` | 倒计时 <5 分钟 |
| 成功色 | `#2E7D32` | 写卡成功 |

### 6.3 字体

| 元素 | 字体 | 大小 |
|------|------|------|
| 页面标题 | Roboto Bold | 24sp |
| 消防员姓名 | Roboto Medium | 20sp |
| 倒计时 | Roboto Mono Bold | 36sp |
| 提示文本 | Roboto Regular | 18sp |

### 6.4 关键页面线框图（文字描述）

#### 页面1：主监控屏（默认首页）
- 顶部：状态栏（“🟢 运行中”）
- 中部：活跃消防员列表（每人一行：姓名 + 倒计时）
- 底部：固定提示条（“请将 NFC 卡贴近设备背部”）
- 右下角：浮动按钮（“+ 注册新消防员”）
- 右上角：齿轮图标（“设置”）

#### 页面2：注册新消防员
- 输入框：姓名（带拼音首字母联想）
- 卡片状态指示器（空白/已注册）
- 操作指引：“将空白卡贴近背部”
- 主按钮：“写入卡片”

#### 页面3：超时报警（模态弹窗）
- 全屏红色背景
- 大号警示图标 🚨
- 明确文字：“李四 已超时未返回！”
- 自动拨号提示
- 唯一操作按钮：“✅ 确认已处理”（需长按2秒）

#### 页面4：设置页
- 表单式布局：
  - 倒计时时长（数字输入 + 单位）
  - 紧急号码列表（可增删）
  - 功能入口：历史记录、导出日志、系统自检

---

## 七、技术约束与假设

| 项目 | 说明 |
|------|------|
| **设备要求** | Android 8.0+，支持 NFC 写入（如华为 Mate 系列、小米数字系列） |
| **NFC 卡类型** | 必须为 **可写 NDEF 卡**（推荐 NTAG213，容量 144 字节） |
| **后台保活** | 必须使用 **前台服务（Foreground Service）**，显示持续通知 |
| **权限** | 需申请：NFC、PHONE_CALL、WAKE_LOCK |
| **数据存储** | 本地存储，不上传任何数据 |
| **离线运行** | 完全支持，无网络时功能不变 |

---

## 八、验收标准（Checklist）

✅ **核心流程**
- [ ] 消防员刷卡 → 启动20分钟倒计时  
- [ ] 再次刷卡 → 重置倒计时  
- [ ] 超时 → 自动拨号 + 全屏报警  
- [ ] 管理员可注册新卡并写入  

✅ **可靠性**
- [ ] App 在后台锁屏状态下仍能触发报警  
- [ ] 重启设备后，未完成的计时任务可恢复  

✅ **UI/UX**
- [ ] 所有文字 ≥ 18sp  
- [ ] 按钮 ≥ 48dp，间距充足  
- [ ] 报警弹窗无法通过返回键关闭  

✅ **异常处理**
- [ ] NFC 关闭时提示开启  
- [ ] 电话权限未授时引导授权  
- [ ] 写卡失败时明确提示原因  

---

## 九、附录

### 附录A：NFC 卡数据格式示例
```json
{"uid":"F1712345678901","name":"张三"}
```

### 附录B：推荐硬件清单
| 类型 | 型号 | 说明 |
|------|------|------|
| Android 设备 | 华为 MatePad 11 | NFC 稳定，屏幕大 |
| NFC 卡 | NTAG213 白卡（500张/卷） | 淘宝搜索“NTAG213 空白卡” |

### 附录C：用户操作手册（1页纸摘要）
> **日常使用**：  
> 1. 消防员出警时，将卡贴近设备背部  
> 2. 屏幕显示“张三 剩余：20:00”即表示已监控  
> 3. 返回时再次刷卡，计时重置  
>   
> **报警处理**：  
> 若出现红色全屏警报，请立即确认现场情况，并点击“确认已处理”  
>   
> **注册新卡**：  
> 点击“+” → 输入姓名 → 贴空白卡 → 点击“写入”

---

> **备注**：本系统为**生命安全关键系统**，所有设计以**可靠性 > 功能性 > 美观性**为优先级。

---

📄 **文档结束**  
如需配套的 **Figma 高保真设计源文件**、**用户测试脚本** 或 **开发任务拆解表**，我可继续提供。  
此文档可直接用于项目立项、开发排期与验收测试。